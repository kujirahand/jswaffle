<!DOCTYPE html>  
<html>
<head>
	<meta charset="utf-8">
	<script type="text/javascript" src="jsWaffle.js"></script>
	<script type="text/javascript" src="res/demo-common.js"></script>
	<link rel="stylesheet" type="text/css" href="res/demo.css" />
	<script type="text/javascript">
		function init() {
			$("ver").innerHTML = "jsWaffle ver." + droid.getWaffleVersion();
			var disp = droid.getDisplayInfo();
			$("info").innerHTML = "Android ver." + droid.getAndroidVersionRelease() +
				" (" + disp.width + "x" + disp.height + "px)";
			setMyMenuItem();
		}
	</script>
</head>
<body onload="init()">
	<h1>jsWaffle DEMO</h1>
	<div id="logo">
		<div style="text-align:center;">
			<img src="res/logo150.png" onclick="droid.vibrate()">
		</div>
		<div style="text-align:center;margin-bottom:8px;" id="ver"></div>
		<div style="text-align:center;margin-bottom:8px;" id="info"></div>
	</div>
	
	<!-- *** sample *** -->
	<h2>Beep/Ring/Vibrate</h2>
	<div class="buttons">
		<button onclick="droid.beep()">beep</button>
		<button onclick="droid.ring()">ring</button>
		<button onclick="droid.vibrate()">vibrate</button>
		<button onclick="droid.makeToast('Hello!')">makeToast</button>
	</div>
	
	<h2>Sound/Video</h2>	
	<div class="buttons">
		<button onclick="TestPlayer()">BGM:Play | Stop</button>
		<button onclick="TestSoundPool()">SE:Play SoundPool</button>
		<button onclick="droid.startIntent('http://www.youtube.com/watch?v=kbRBQ5c51eo')">Play Video(YouTube)</button>
	</div>
	<script>
		// for SoundPool Test (ogg file)
		var soundId = droid.loadSoundPool("file:///android_asset/www/res/beep.ogg");
		function TestSoundPool() {
			droid.playSoundPool(soundId, 2);
		}
		var playerObj = null;
		function TestPlayer() {
			if (playerObj == null) {
				playerObj = droid.playSound('www/res/beet.ogg', true);
			} else {
				if (droid.isPlayingSound(playerObj)) {
					droid.stopSound(playerObj);
				} 
				playerObj = null;
			}
			//droid.playSound('www/res/test.mp3');
		}
	</script>
	
	<h2>Mail/Tel</h2>
	<div class="buttons">
		<button onclick="TestSendMail()">Send Mail</button>
		<button onclick="droid.startIntent('tel:117')">Call 117</button>
	</div>
	<script>
		function TestSendMail() {
			droid.startIntent("mailto:web@kujirahand.com?subject=About_jsWaffle&body=test");
		}
	</script>
	
	<h2>Snapshot</h2>
	<div class="buttons">
		<button onclick="showSnapshot()">Snapshot!!</button>
	</div>
	<script>
		function showSnapshot() {
			var path = "file:/sdcard/test.png";
			droid.snapshotToFile(path, "png");
			droid.startIntent(path);
		}
	</script>
	
	<h2>HTTP</h2>
	<div class="buttons">
		<button id="httpget_btn" onclick="testHTTP()">httpGet:Get IP</button>
		<button id="dl_btn" onclick="testHTTPDownload()">httpDownload:DL Image</button>
	</div>
	<script>
		function testHTTP() {
			$("httpget_btn").disabled = true;
			droid.httpGet("http://api.aoikujira.com/ip/json",
				function(str){ alert(str); $("httpget_btn").disabled = false; }, 
				function(err){ alert(err); $("httpget_btn").disabled = false; }
			);
		}
		function testHTTPDownload() {
			$("dl_btn").disabled = true;
			droid.httpDownload(
				"http://d.aoikujira.com/jsWaffle/img/jsWaffle-icon300.png",
				"/sdcard/logo.png",
				function (status) {
					$("dl_btn").disabled = false;
					if (!status) { alert('download error'); return; }
					droid.startIntent("file:///sdcard/logo.png");
				}
			);
		}
	</script>
	
	<h2>More Samples</h2>
	<div class="buttons">
		<button onclick="location.href='test/dialogs.html'">Dialogs Sample</button>
		<button onclick="location.href='test/sensors.html'">Sensors Sample</button>
		<button onclick="location.href='test/storages.html'">Storages Sample</button>
		<button onclick="location.href='test/cameras.html'">Camera/Video Sample</button>
	</div>
	
	<br/><br/><br/>

</body>
</html>